<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Temperament Test - Choose Test Length</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap"
    rel="stylesheet" />

  <!-- Privacy-friendly analytics script (Plausible) -->
  <script defer data-domain="whatismytemperament.com"
    src="https://plausible.io/js/pa-_qc7T854PUP4o3PSGZBHN.js"></script>
  <script>
    window.plausible =
      window.plausible ||
      function () {
        (plausible.q = plausible.q || []).push(arguments);
      };
    plausible.init =
      plausible.init ||
      function (i) {
        plausible.o = i || {};
      };
    plausible.init();
  </script>
  <!-- Paystack Inline -->
  <script src="https://js.paystack.co/v2/inline.js"></script>
  <!-- Chart.js will be dynamically loaded via app.js -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png" />
  <link rel="icon" type="image/png" sizes="48x48" href="assets/logo/temperament-emblem-48.png" />
  <link rel="shortcut icon" href="favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/logo/apple-touch-icon.png" />
  <meta name="theme-color" content="#468254" />
  <meta property="og:image" content="https://whatismytemperament.com/assets/logo/temperament-emblem-1200.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://whatismytemperament.com/assets/logo/temperament-emblem-1200.png" />
</head>

<body class="site-selection">
  <!-- ===============================
       TOP NAVIGATION BAR
       =============================== -->
  <nav class="top-nav">
    <div class="app-container nav-inner">
      <!-- Brand Logo / Name -->
      <a class="brand" href="index.html">
        <span class="brand-mark" aria-hidden="true">
          <img class="brand-mark-img" src="assets/logo/temperament-emblem-48.png" alt="" />
        </span>
        <span class="brand-text">Temperament<span>Test</span></span>
      </a>
      <div class="nav-links">
        <a href="index.html#about">About</a>
        <a href="index.html#types">Types</a>
        <a href="index.html#contact">Contact</a>
      </div>
      <a href="#choose-depth" class="nav-cta">Choose Test</a>
    </div>
  </nav>

  <main>
    <!-- ===============================
         STAGE 1: INTRO & DEPTH SELECTION
         This panel is visible when the user first arrives to select test length.
         =============================== -->
    <div id="intro-panel">
      <section class="section selection-direct" id="choose-depth">
        <div class="app-container narrow">
          <div class="section-head">
            <h2>Select Number of Questions</h2>
            <p>Choose your preferred depth before starting the assessment.</p>
          </div>

          <fieldset class="depth-grid" aria-label="Choose assessment depth">
            <legend class="sr-only">Choose assessment depth</legend>

            <label class="depth-card">
              <input type="radio" name="depth" value="20" checked />
              <span class="depth-content">
                <span class="depth-title">20 Questions</span>
                <span class="depth-sub">Quick snapshot of your primary traits.</span>
                <span class="depth-meta">About 5 minutes</span>
              </span>
            </label>

            <label class="depth-card">
              <input type="radio" name="depth" value="40" />
              <span class="depth-content">
                <span class="depth-title">40 Questions</span>
                <span class="depth-sub">Better signal and stronger confidence.</span>
                <span class="depth-meta">About 9 minutes</span>
              </span>
            </label>

            <label class="depth-card">
              <input type="radio" name="depth" value="60" />
              <span class="depth-content">
                <span class="depth-title">60 Questions</span>
                <span class="depth-sub">Highest depth of insight (educational)</span>
                <span class="depth-meta">About 13 minutes</span>
              </span>
            </label>
          </fieldset>

          <div class="selection-actions">
            <div style="
                  background: var(--primary-50);
                  padding: 1rem;
                  border-radius: 8px;
                  margin-bottom: 1.5rem;
                  text-align: left;
                ">
              <p style="
                    margin: 0;
                    font-size: 0.95rem;
                    color: var(--primary-700);
                    font-weight: 600;
                  ">
                What you're getting:
                <span style="font-weight: 400; color: var(--gray-700)">A primary + secondary temperament breakdown and a
                  mix
                  chart.</span>
              </p>
            </div>

            <div class="selection-actions-row">
              <button id="start-btn" class="btn btn-primary btn-start" type="button">
                Start Free Test
                <span aria-hidden="true">-></span>
              </button>
              <a href="index.html" class="btn btn-outline back-home-btn" aria-label="Back Home">
                <span aria-hidden="true">←</span>
              </a>
            </div>
            <p class="selection-note">
              No account required. This is educational reflection, not
              diagnosis.
            </p>
          </div>
        </div>
      </section>
    </div>

    <!-- ===============================
         STAGE 2: ASSESSMENT IN PROGRESS
         This panel holds the live test questions and tracking interface.
         (Hidden by default, shown via app.js)
         =============================== -->
    <section class="section quiz-stage hidden" id="assessment-panel" aria-live="polite">
      <div class="app-container narrow">
        <div class="panel-card">
          <div class="assessment-mesh" aria-hidden="true">
            <div class="assessment-orb assessment-orb-phlegmatic"></div>
            <div class="assessment-orb assessment-orb-sanguine"></div>
            <div class="assessment-orb assessment-orb-choleric"></div>
            <div class="assessment-orb assessment-orb-melancholic"></div>
          </div>
          <header class="assessment-header">
            <div>
              <p class="eyebrow">Assessment In Progress</p>
              <h2 id="progress-heading">Question 1 of 20</h2>
            </div>
            <p id="progress-meta">Answered 0 of 20</p>
          </header>

          <div class="progress-track" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
            <div class="progress-fill" id="progress-fill"></div>
          </div>

          <div id="question-page" class="question-page"></div>
          <p id="page-warning" class="warning hidden" role="alert">
            Please answer all questions on this page before continuing.
          </p>

          <div class="page-controls">
            <button id="prev-btn" class="btn btn-outline" type="button">
              Previous
            </button>
            <button id="simulate-btn" class="btn btn-outline hidden" type="button">
              Auto-fill 20Q
            </button>
            <button id="next-btn" class="btn btn-primary" type="button">
              Next
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- ===============================
         STAGE 3: RESULTS DASHBOARD
         This panel renders the user's computed results after the test finishes,
         or when loaded via a #result= shareable link.
         =============================== -->
    <section class="section results-stage hidden" id="results-panel" aria-live="polite">
      <div class="app-container result-container">
        <!-- Result Hero Banner -->
        <div class="panel-card result-hero-card">
          <div class="result-hero-mesh" aria-hidden="true">
            <div class="result-mesh-orb result-orb-phlegmatic"></div>
            <div class="result-mesh-orb result-orb-sanguine"></div>
            <div class="result-mesh-orb result-orb-choleric"></div>
            <div class="result-mesh-orb result-orb-melancholic"></div>
          </div>
          <p class="eyebrow">Your Temperament Reflection</p>
          <span class="result-pill">Your Result Is In</span>
          <h2 id="result-name" class="result-name"></h2>
          <p id="result-tagline" class="result-tagline"></p>
          <p id="result-short" class="result-short"></p>
          <div class="result-confidence-pill">
            <span class="confidence-dot"></span>
            <span id="result-confidence"></span>
          </div>
          <p id="result-title" class="sr-only"></p>
        </div>

        <!-- Main Content Area: Profile and Sidebar -->
        <div class="result-profile-grid">
          <!-- Primary Profile Detailed Display -->
          <article class="panel-card profile-main-card">
            <div class="profile-image-wrap">
              <img id="result-profile-image" src="" alt="Primary temperament profile" />
              <div class="profile-image-overlay">
                <h3 id="result-profile-name"></h3>
                <p id="result-profile-summary"></p>
              </div>
            </div>

            <div class="profile-columns">
              <div class="result-list-col">
                <h4>Strengths</h4>
                <ul id="detail-strengths" class="result-list"></ul>
              </div>
              <div class="result-list-col">
                <h4>Watch-outs</h4>
                <ul id="detail-weaknesses" class="result-list"></ul>
              </div>
            </div>

            <div class="growth-note">
              <h4>Growth Area</h4>
              <p id="result-growth"></p>
            </div>



            <div class="growth-note" style="
                  background: var(--beige-50);
                  border: 1px solid var(--beige-100);
                  margin-top: 2rem;
                ">
              <h4 style="margin-bottom: 1rem; color: var(--gray-900)">
                What to do next
              </h4>
              <ul class="result-list" style="margin: 0; padding-left: 1.25rem">
                <li>
                  <span><strong><a href="#result-growth" style="text-decoration: underline; color: inherit">Read your
                        growth focus</a>:</strong>
                    Keep your main challenge area in mind this week.</span>
                </li>
                <li>
                  <span><strong><a href="#share-card-btn" style="text-decoration: underline; color: inherit">Share your
                        result</a>:</strong>
                    Use the share link to let your friends see your profile.</span>
                </li>
                <li>
                  <span><strong><a href="temperaments.html" style="text-decoration: underline; color: inherit">Compare
                        with a friend</a>:</strong>
                    Ask a partner or colleague to take the test.</span>
                </li>
                <li>
                  <span><strong><a href="#secondary-name" style="text-decoration: underline; color: inherit">Explore
                        your secondary</a>:</strong>
                    Read up on how your secondary temperament affects you.</span>
                </li>
              </ul>
            </div>
          </article>

          <!-- Sticky Sidebar Data -->
          <aside class="result-sidebar" data-premium-lock="true">
            <!-- Temperament Mix Donut Chart -->
            <article class="panel-card mix-card">
              <h3>Temperament Mix</h3>
              <div class="mix-donut">
                <canvas id="temperament-donut"></canvas>
                <div class="mix-donut-center">
                  <span id="primary-percent-label">0%</span>
                  <small>Primary</small>
                </div>
              </div>
              <div id="temperament-legend" class="mix-legend"></div>
            </article>

            <article class="secondary-card">
              <p class="secondary-eyebrow">Secondary Influence</p>
              <h3 id="secondary-name"></h3>
              <p id="secondary-desc"></p>
              <p id="secondary-traits" class="secondary-traits"></p>
            </article>

            <!-- Premium Value Boundary Indicator -->
            <div class="panel-card" style="
                  margin-top: 1.5rem;
                  background: var(--gray-50);
                  border: 1px dashed var(--gray-300);
                ">
              <p class="eyebrow" style="color: var(--gray-500)">
                Coming Soon
              </p>
              <h3 style="font-size: 1.1rem; margin-bottom: 0.75rem">
                Next features we're building
              </h3>
              <p style="
                    font-size: 0.9rem;
                    color: var(--gray-500);
                    margin-bottom: 1rem;
                  ">
                We are working on deeper extensions to help you apply your
                temperament in real life:
              </p>
              <ul style="
                    font-size: 0.85rem;
                    color: var(--gray-700);
                    padding-left: 1rem;
                    margin: 0;
                    display: grid;
                    gap: 0.5rem;
                  ">
                <li>Relationship & conflict tips</li>
                <li>Personal growth planning</li>
                <li>Guided team scenarios</li>
              </ul>
            </div>
          </aside>
        </div>

        <!-- Scenario Snapshot -->
        <div class="panel-card scenario-strip" data-premium-lock="true">
          <p class="eyebrow">Scenario Snapshot</p>
          <h3>Your Temperament in Action</h3>
          <div class="scenario-grid">
            <article class="scenario-panel" id="scenario-card-1" data-temp="Primary">
              <h4 id="scenario-title-1">Tension</h4>
              <p id="scenario-body-1"></p>
            </article>
            <article class="scenario-panel" id="scenario-card-2" data-temp="Secondary">
              <h4 id="scenario-title-2">Your Move</h4>
              <p id="scenario-body-2"></p>
            </article>
            <article class="scenario-panel" id="scenario-card-3" data-temp="Blend">
              <h4 id="scenario-title-3">Result</h4>
              <p id="scenario-body-3"></p>
            </article>
          </div>
        </div>

        <!-- Communication Style Grid -->
        <div class="panel-card comms-card" data-premium-lock="true">
          <p class="eyebrow">How You Connect</p>
          <h3>Your Communication Style</h3>
          <div class="comms-grid">
            <article>
              <h4>Preferred Style</h4>
              <p id="comms-preferred"></p>
            </article>
            <article>
              <h4>As a Listener</h4>
              <p id="comms-listener"></p>
            </article>
            <article>
              <h4>Expressing Yourself</h4>
              <p id="comms-expression"></p>
            </article>
            <article>
              <h4>Under Pressure</h4>
              <p id="comms-pressure"></p>
            </article>
          </div>
        </div>

        <div class="panel-card confidence-card" data-premium-lock="true">
          <div class="confidence-copy">
            <h3 id="confidence-title"></h3>
            <p id="confidence-message"></p>
          </div>
          <div class="confidence-meter">
            <div class="confidence-ring" id="confidence-ring">
              <span id="confidence-percent">0%</span>
            </div>
            <span id="confidence-label" class="confidence-label"></span>
          </div>
        </div>

        <p class="disclaimer">
          This assessment is designed for personal reflection and educational
          purposes only. It is not a clinical diagnostic tool and should not
          be used as a substitute for professional advice.
        </p>

        <section id="assistant-guide" class="panel-card assistant-guide" aria-label="Temperament Reflection Guide"
          data-premium-lock="true">
          <div class="assistant-collapsed">
            <p class="eyebrow">AI Reflection Guide</p>
            <h3 class="assistant-title">Chat with our AI</h3>
            <p class="assistant-subtitle">
              Ask questions about your temperament results · Educational · Non-diagnostic
            </p>
            <button id="assistant-open-btn" class="btn btn-outline assistant-open-btn" type="button"
              aria-label="Open chat with AI">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"
                style="vertical-align: -3px; margin-right: 0.4rem;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
              </svg>
              Open Chat
            </button>
          </div>
        </section>

        <div class="result-actions">
          <!-- <button id="copy-summary-btn" class="btn btn-outline" type="button">
                Copy Result Summary
              </button> -->
          <button id="copy-link-btn" class="btn btn-outline" type="button">
            Copy Share Link
          </button>
          <button id="share-card-btn" class="btn btn-outline" type="button">
            Generate Share Card
          </button>

          <!-- Hidden Share Card Preview Container -->
          <div id="share-card-preview" class="hidden" style="
                margin-top: 1rem;
                text-align: center;
                background: var(--bg-surface);
                padding: 1rem;
                border-radius: 8px;
                border: 1px solid var(--border-light);
              ">
            <canvas id="share-card-canvas" style="
                  max-width: 100%;
                  height: auto;
                  border-radius: 8px;
                  margin-bottom: 1rem;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                "></canvas>
            <p style="
                  font-size: 0.875rem;
                  color: var(--text-secondary);
                  margin-bottom: 0.5rem;
                ">
              Includes your personalized link
            </p>
            <div style="
                  display: flex;
                  gap: 0.5rem;
                  justify-content: center;
                  flex-wrap: wrap;
                ">
              <button id="download-card-btn" class="btn btn-primary" type="button">
                Download PNG
              </button>
              <button id="download-card-pdf-btn" class="btn btn-primary" type="button">
                Download PDF
              </button>
              <button id="share-card-native-btn" class="btn btn-outline" type="button">
                Share...
              </button>
            </div>
          </div>


          <a href="test-options.html" class="btn btn-primary result-restart">
            Take Another Test
            <span aria-hidden="true">-></span>
          </a>
          <a href="index.html" class="btn btn-outline">Back Home</a>
        </div>
      </div>
    </section>
  </main>

  <!-- ===============================
       SITE FOOTER
       =============================== -->
  <footer class="site-footer">
    <div class="app-container footer-grid">
      <!-- Footer Branding -->
      <div class="footer-brand">
        <a class="brand" href="index.html">
          <span class="brand-mark" aria-hidden="true">
            <img class="brand-mark-img" src="assets/logo/temperament-emblem-48.png" alt="" />
          </span>
          <span class="brand-text">Temperament<span>Test</span></span>
        </a>
        <p>
          Educational personality reflection based on classic temperament
          theory.
        </p>
      </div>

      <div class="footer-col">
        <h3>Explore</h3>
        <a href="index.html#about">About Types</a>
        <a href="index.html#types">Temperaments</a>
        <a href="test-options.html">Take the Test</a>
      </div>

      <div class="footer-col">
        <h3>Contact</h3>
        <a href="mailto:contact@temperamenttest.com">contact@temperamenttest.com</a>
        <p>No registration required for assessment results.</p>
      </div>
    </div>
    <div class="footer-base">
      <div class="app-container" style="
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
          ">
        <p style="margin: 0">
          &copy; 2026 TemperamentTest. All rights reserved.
        </p>
        <div class="footer-legal" style="font-size: 0.92rem; color: var(--gray-500)">
          <a href="privacy.html" style="
                color: inherit;
                text-decoration: underline;
                margin-right: 0.5rem;
              ">Privacy Policy</a>
          |
          <a href="terms.html" style="
                color: inherit;
                text-decoration: underline;
                margin-left: 0.5rem;
              ">Terms & Disclaimer</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Floating Chat FAB – visible only on results panel -->
  <button id="chat-fab" class="chat-fab hidden" type="button" aria-label="Chat with our AI">
    <!-- Chat icon (shown when modal closed) -->
    <svg class="chat-fab-icon chat-fab-icon--chat" width="22" height="22" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
    </svg>
    <!-- Close icon (shown when modal open) -->
    <svg class="chat-fab-icon chat-fab-icon--close hidden" width="22" height="22" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <line x1="18" y1="6" x2="6" y2="18" />
      <line x1="6" y1="6" x2="18" y2="18" />
    </svg>
    <span class="chat-fab-label">Chat with our AI</span>
  </button>

  <!-- Paywall Modal -->
  <div id="paywall-overlay" class="modal-overlay hidden" role="presentation">
    <div id="paywall-modal" class="paywall-modal hidden" role="dialog" aria-label="Unlock AI reflections">
      <div class="paywall-header">
        <div>
          <p class="eyebrow">Premium Unlock</p>
          <h3>Unlock AI Reflections</h3>
          <p class="paywall-subtitle">One-time access on this device — secure payment via Paystack.</p>
        </div>
        <button id="paywall-close" class="paywall-close" type="button" aria-label="Close paywall">×</button>
      </div>
      <div class="paywall-body">
        <div class="paywall-price">
          <span class="paywall-amount">$5</span>
          <span class="paywall-currency">USD</span>
          <p class="paywall-note">48h unlock · No account needed</p>
        </div>
        <ul class="paywall-benefits">
          <li>Unlimited AI chat about your results</li>
          <li>Deep-dive reflections tailored to your temperament</li>
          <li>Secure payment with cards & mobile money</li>
        </ul>
        <div id="paywall-status" class="paywall-status hidden"></div>
        <div id="paywall-error" class="paywall-error hidden" role="alert"></div>
        <button id="paywall-unlock-btn" class="btn btn-primary paywall-unlock-btn" type="button">
          Unlock now
        </button>
        <div id="paywall-spinner" class="paywall-spinner hidden" aria-hidden="true"></div>
      </div>
    </div>
  </div>

  <!-- Floating Chat Modal -->
  <div id="chat-modal" class="chat-modal hidden" role="dialog" aria-label="Temperament Reflection Chat">
    <header class="chat-modal-header">
      <div>
        <h3 class="chat-modal-title">Reflection Guide</h3>
        <p class="chat-modal-subtitle">Educational · Non-diagnostic</p>
      </div>
      <button id="chat-modal-close" class="chat-modal-close" type="button" aria-label="Close chat">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </button>
    </header>

    <div class="chat-modal-body">
      <p id="assistant-counter" class="assistant-counter">
        Questions used: 0 / 10
      </p>

      <div id="assistant-status" class="assistant-status hidden" aria-live="polite"></div>
      <div id="assistant-error" class="assistant-error hidden" role="alert"></div>

      <!-- Quick-start chips -->
      <div id="assistant-mode-group" class="assistant-mode-grid" role="group" aria-label="Quick-start prompts">
        <p class="assistant-chips-label">Quick starts</p>
        <button type="button" class="btn btn-outline assistant-mode-btn assistant-chip" data-mode="Result Summary">
          Result Summary
        </button>
        <button type="button" class="btn btn-outline assistant-mode-btn assistant-chip" data-mode="Strengths in Action">
          Strengths in Action
        </button>
        <button type="button" class="btn btn-outline assistant-mode-btn assistant-chip" data-mode="Communication Prep">
          Communication Prep
        </button>
      </div>

      <!-- Chat message window -->
      <div id="assistant-history" class="assistant-history chat-window" aria-live="polite" aria-label="Chat messages">
      </div>

      <div id="assistant-limit" class="assistant-limit hidden">
        <p>
          You have reached this reflection session limit. You can review
          your results above or start a new assessment when ready.
        </p>
      </div>
    </div>

    <!-- Chat input row (pinned to bottom) -->
    <div class="chat-modal-footer">
      <div id="chat-input-row" class="chat-input-row">
        <textarea id="chat-input" class="chat-input" placeholder="Ask anything about your temperament…" rows="2"
          maxlength="400" aria-label="Your message"></textarea>
        <button id="chat-send-btn" class="btn btn-primary chat-send-btn" type="button" aria-label="Send message">
          Send
        </button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>